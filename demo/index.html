<!DOCTYPE html>
<html>
<head>
  <title>WaveformGeneator.js Demo</title>
  <style>

  </style>
</head>
<body>
  <input type="file"><br><br>
  <audio controls autoplay></audio><br><br>
  <p>When you have choosed a file, the waveform will start to load and show up when done!</p>
  <br><br>
  <img id="waveform" style="width:500px;height:80px">
  <img id="waveform-two" style="width:500px;height:80px">

  <script src="../src/WaveformGenerator.js"></script>
  <script>
  document.querySelector('input').addEventListener('change', function(e) {
    document.querySelector('audio').src = URL.createObjectURL(e.target.files[0]);
    var reader = new FileReader();
    reader.onload = function(event) {
        var settings = {
          bar: {
            align: 'center', 
            width: 4, 
            gap: 0.4
          },
          waveform: {
            color: 'blue',
            width: 500,
            height: 80
          },
          drawMode: 'svg'
      };
      var settingsTwo = {
          bar: {
            align: 'bottom', 
            width: 1, 
            gap: 0
          },
          waveform: {
            color: 'red',
            width: 500,
            height: 80
          }
      };
      new WaveformGenerator(event.target.result, settings).then(function(so) {
          document.querySelector('#waveform').src = so;
      });
      new WaveformGenerator(event.target.result, settingsTwo).then(function(sw) {
        document.querySelector('#waveform-two').src = sw;
      });
    };
    reader.readAsArrayBuffer(e.target.files[0]);
  }, false);
  </script>
</body>
</html>